<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>购物网站</title>
  <script>
    var timer=null;
    function displayClock(num){//num是传入的startClock中的动态值
      if(num<10){
        return "0"+num;
      }
      else{
        return num;
      }
    }
    //停止计时
    function stopClock(){
      clearTimeout(timer);
    }
    //开始计时
    function startClock(){
      var time =new Date();
      var hours=displayClock(time.getHours())+":";
      var minutes=displayClock(time.getMinutes())+":";
      var seconds=displayClock(time.getSeconds());
      //显示时间
      show.innerHTML=hours+minutes+seconds;//在id为show的块区域显示
      timer=setTimeout("startClock()",1000);//延时器
    }
	
  </script>
  
 <meta name="Keywords" content="网上购物,网上商城,手机,笔记本,电脑,MP3,CD,VCD,DV,相机,数码,配件,手表,存储卡"/>
<style>
#show{
    font-size: 24px;
    color:white;
    text-align:end;
  }
#box{position: absolute;left:450px;width: 590px;height: 470px;top: 210px;overflow:hidden;}
        ul,li{list-style:none;}
        #box ul li{width: 590px;height: 470px;position: absolute;opacity: 0;filter:alpha(opacity(0));}
        #box ul li:first-child{opacity: 1;filter:alpha(opacity(100));}
        #box ul li img{width: 590px;height: 470px;} 
        #direction{position:relative;}
     #direction>a{width: 50px;height: 60px;background: rgba(0,0,0,0.5);color:#fff; left:0px;position:absolute;top:170px;font-size:30px;text-align:center;line-height:60px;}
        #direction>a:nth-child(2){position:relative;float:right;}
        #btn{position:absolute;left:42%;bottom:0;}
        #btn>a{float:left;width: 20px;height:20px;border-radius:50%;background:#f40;margin-right:10px;}
        #btn .active{background:#fff;}
		.ad{position:relative;width:300px;height: 800px;top: 50px;left:1150px;overflow:hidden;}

</style>
</head>

<body background="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1573715781&di=fd3866ede6e6ee761983d5df2ea71e09&imgtype=jpg&er=1&src=http%3A%2F%2Fpic1.win4000.com%2Fwallpaper%2F2018-10-23%2F5bcec769787a0.jpg" style=" background-repeat:no-repeat ;
background-size:100% 100%;
background-attachment: fixed;"onload="startClock()" onunload="stopClock()">
<div>
<div style="text-align:center;
	font-size:36pt;
	font-weight:bold;
	color:white;">
购物网站
</div>
<div  style="text-align:right">
<a target="_blank" href="登录.html" style="color: greenyellow">你好，请登录</a>
<br/>
<a target="_blank" href="注册.html" style="color: greenyellow">免费注册</a>
<br/>
<a target="_blank" href="问卷调查.html" style="color: greenyellow">问卷调查</a>
</div>
</div>
<div style="text-align:left;color:white;">
女装 / 男装 / 内衣<br/> 
鞋靴 / 箱包 / 配件<br/>
童装玩具 / 孕产 / 用品<br/>
家电 / 数码 / 手机 <br/>
美妆 / 洗护 / 保健品 <br/>
珠宝 / 眼镜 / 手表<br/> 
运动 / 户外 / 乐器 <br/>
游戏 / 动漫 / 影视 <br/>
美食 / 生鲜 / 零食 <br/>
鲜花 / 宠物 / 农资 <br/>
工具 / 装修 / 建材<br/> 
家具 / 家饰 / 家纺 <br/>
汽车 / 二手车 / 用品<br/> 
办公 / DIY / 五金电子 <br/>
百货 / 餐厨 / 家庭保健 <br/>
学习 / 卡券 / 本地服务<br/> 
</div>


  <div id="show" ></div>
  
  <div id="box">	<!--滚动栏-->
        <ul>
            <li><img src="https://img11.360buyimg.com/pop/s1180x940_jfs/t1/96021/13/1736/90618/5dc4bce7Ef7aec743/674547d8cff377c1.jpg.webp" alt=""></li>
            <li><img src="https://imgcps.jd.com/ling/100008348542/5omL5py66LSt5a6e5oOg/5aSH6LSn6LaF5YC8/p-5bd8253082acdd181d02fa5f/651b3bdc/590x470.jpg" alt=""></li>
            <li><img src="https://img13.360buyimg.com/pop/s1180x940_jfs/t1/103710/9/1198/69444/5dbae3e1E4a805c19/c3259677c6e09675.jpg.webp" alt=""></li>
            <li><img src="https://img13.360buyimg.com/pop/s1180x940_jfs/t1/93469/20/1646/64610/5dc26bacE73e8c7bb/2a016f0d635ab115.jpg.webp" alt=""></li>
        </ul>
        <div id="direction">
            <a href="##">&lt;</a>
            <a href="##">&gt;</a>
        </div>
        <div id="btn">
            <a href="##" class="active"></a>
            <a href="##"></a>
            <a href="##"></a>
            <a href="##"></a>
    </div>
<script>
        //获取非行间样式
        function getStyle(obj,attr){
            if(obj.currentStyle){
                return obj.currentStyle[attr];
            }else{
                return getComputedStyle(obj,false)[attr];
            }
        }

        //完美运动框架
        function move(obj,json,fn){
            clearInterval(obj.timer);
            obj.timer = setInterval(function(){
                var bStop = true;
                for(var attr in json){
                    //先判断是否是透明度
                    var iCur;
                    if(attr == "opacity"){
                        iCur = parseInt(parseFloat(getStyle(obj,attr))*100);
                    }else{
                        iCur = parseInt(getStyle(obj,attr));
                    }

                    //算速度

                    var speed = (json[attr] - iCur)/8;
                    speed = speed>0?Math.ceil(speed):Math.floor(speed);

                    if(json[attr] != iCur){
                        bStop = false;
                    }

                    if(attr == "opacity"){
                        obj.style.opacity = (iCur+speed)/100;
                        obj.style.filter = "alpha(opacity:"+(iCur+speed)+")"
                    }else{
                        obj.style[attr] = iCur+speed+'px';
                    }
                }

                if(bStop){
                    clearInterval(obj.timer);
                    fn&&fn();
                }
            },30)
    }
    </script>
<script>
        var box=document.getElementById("box");
        var aLi = document.querySelectorAll("#box>ul>li");
        var aDir = document.querySelectorAll("#direction>a");
        var aBtn = document.querySelectorAll("#btn>a");
        var iHiddle = 0,iShow = 0;//iHiddle表示隐藏的下标，iShow表示显示的下标

        var timer;

        //动画的原理
        function toImg(){
            move(aLi[iHiddle],{opacity:0});//隐藏
            move(aLi[iShow],{opacity:100});//显示
            iHiddle=iShow;
            //使进度条自动跟随图片运动
            for(var i=0;i<aBtn.length;i++){
                aBtn[i].className="";
            }
            aBtn[iShow].className="active";   
        }

        //让图自动播放
        function autoPlay(){
            timer=setInterval(function(){
                if(iShow==aLi.length-1){
                    iShow=0;    
                }else{
                    iShow++;
                }
                toImg();
            },2000)         
        }
        autoPlay();
        //当鼠标移入时停止自动播放
        box.onmouseover=function(){
            clearInterval(timer);
        }
        //当鼠标移出时继续自动播放
        box.onmouseout=function(){
            autoPlay();
        }

        //点击左按钮向左播放
        aDir[0].onclick=function(){
            if(iShow==0){
                iShow=aLi.length-1;
            }else{
                iShow--;
            }
            toImg();
        }
        //点击有按钮向右播放
        aDir[1].onclick=function(){
            if(iShow==aLi.length-1){
                iShow=0;    
            }else{
                iShow++;
            }
            toImg();
        }

        //让鼠标移入时进度条自动回到那个点上
        for(var j=0;j<aBtn.length;j++){
            aBtn[j].index=j;//先存入一下标
            aBtn[j].onmouseenter=function(){
                //让其他元素隐藏
                for(var k=0;k<aBtn.length;k++){
                    aBtn[k].className="";
                    move(aLi[k],{opacity:0});
                }
                //让你移入的那个元素显示
                this.className="active";
                move(aLi[this.index],{opacity:100});
                iShow=this.index;//使移入的那个元素下标跟播放时的下标统一一下
                iHiddle=iShow;
            }
        }
    </script>
</body>
</html>
